!function(){"use strict";var e={n:function(l){var t=l&&l.__esModule?function(){return l.default}:function(){return l};return e.d(t,{a:t}),t},d:function(l,t){for(var a in t)e.o(t,a)&&!e.o(l,a)&&Object.defineProperty(l,a,{enumerable:!0,get:t[a]})},o:function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}},l=window.wp.element,t=window.wp.serverSideRender,a=e.n(t),n=window.wp.i18n,o=window.wp.components,r=window.wp.blockEditor;window.wp.data,window.wp.compose;const i=[{label:"List",value:"list"},{label:"2 Columns",value:"grid2"},{label:"3 Columns",value:"grid3"},{label:"4 Columns",value:"grid4"},{label:"Responsive",value:"responsive"}],s=[{label:"Excerpt",value:"excerpt"},{label:"Description",value:"description"},{label:"None",value:"none"}],c=[{label:"Title",value:"title"},{label:"Date",value:"date"},{label:"Menu Order",value:"menu_order"},{label:"Random",value:"rand"}],u=[{label:"Ascending",value:"asc"},{label:"Descending",value:"desc"}],g=[{label:"Logo",value:"logo"},{label:"Featured Image",value:"featured"},{label:"None",value:"none"}],d=[{label:"Auto",value:""},{label:"Small",value:"thumbnail"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"Full Width",value:"full"}],m=[{label:"Select one or more categories",value:null}],p=[{label:"Solid",value:"solid"},{label:"Dotted",value:"dotted"},{label:"Dashed",value:"dashed"},{label:"Double",value:"double"}];wp.apiFetch({path:"/wp/v2/business_category?per_page=100"}).then((e=>{jQuery.each(e,(function(e,l){m.push({label:l.name,value:l.slug})}))})).catch();const y=[{label:"Select one or more Membersihp Levels",value:null}],b=[];var h=wpAjax.wpurl+"/wp-admin/admin-ajax.php?action=cdash_check_mm_active_action";wp.apiFetch({url:h}).then((e=>{e.cdash_mm_active&&wp.apiFetch({path:"/wp/v2/membership_status?per_page=100"}).then((e=>{jQuery.each(e,(function(e,l){b.push({label:l.name,value:l.slug})}))}))}));const _=[{name:(0,n.__)("Small"),slug:"small",size:12},{name:(0,n.__)("Medium"),slug:"medium",size:18},{name:(0,n.__)("Big"),slug:"big",size:26}],C=[{label:"px",value:"px"},{label:"%",value:"%"}];wp.apiFetch({path:"/wp/v2/membership_level?per_page=100"}).then((e=>{jQuery.each(e,(function(e,l){y.push({label:l.name,value:l.slug})}))}));var E=window.wp.blocks;window.wp.date,(0,E.registerBlockType)("cdash-bd-blocks/business-directory",{title:"Display Business Directory",icon:"store",category:"cd-blocks",description:"The business directory block displays the Business Directoy listings on your page.",example:{},supports:{align:["wide","full"]},attributes:{align:{type:"string",default:""},textAlignment:{type:"string",default:"left"},cd_block:{type:"string",default:"yes"},postLayout:{type:"string",default:"grid3"},format:{type:"string",default:"grid3"},categoryArray:{type:"array",default:[]},category:{type:"string",default:""},tags:{type:"string",default:""},membershipLevelArray:{type:"array",default:[]},level:{type:"string",default:""},displayPostContent:{type:Boolean,default:!0},text:{type:"string",default:"none"},singleLinkToggle:{type:"boolean",default:!0},single_link:{type:"string",default:"yes"},perpage:{type:"number",default:-1},orderby:{type:"string",default:"title"},order:{type:"string",default:"asc"},image:{type:"string",default:"featured"},membershipStatusArray:{type:"array",default:[]},status:{type:"string",default:""},image_size:{type:"string",default:"medium"},alphaToggle:{type:"boolean",default:!1},alpha:{type:"string",default:"no"},logo_gallery:{type:"string",default:"no"},categoryFilterToggle:{type:"boolean",default:!1},show_category_filter:{type:"string",default:"no"},display:{type:"string",default:""},displayAddressToggle:{type:"boolean",default:!1},displayUrlToggle:{type:"boolean",default:!1},displayPhoneToggle:{type:"boolean",default:!1},displayEmailToggle:{type:"boolean",default:!1},displayCategoryToggle:{type:"boolean",default:!1},displayTagsToggle:{type:"boolean",default:!1},displayLevelToggle:{type:"boolean",default:!1},displaySocialMediaIconsToggle:{type:"boolean",default:!1},displayLocationNameToggle:{type:"boolean",default:!1},displayHoursToggle:{type:"boolean",default:!1},changeTitleFontSize:{type:"boolean",default:!1},titleFontSize:{type:"number",default:16},disablePagination:{type:"boolean",default:!1},displayImageOnTop:{type:"boolean",default:!1},enableBorder:{type:"boolean",default:!1},borderColor:{type:"string",default:"#000000"},borderThickness:{type:"number",default:1},borderStyle:{type:"string",default:"solid"},borderRadius:{type:"number",default:0},borderRadiusUnits:{type:"string",default:"px"}},edit:e=>{const{attributes:{align:t,textAlignment:h,cd_block:E,postLayout:v,format:f,categoryArray:w,category:T,tags:S,membershipLevelArray:P,level:R,displayPostContent:k,display:A,text:F,singleLinkToggle:L,single_link:D,perpage:B,orderby:z,order:N,image:x,membershipStatusArray:O,status:M,image_size:I,alphaToggle:j,alpha:H,logo_gallery:U,categoryFilterToggle:Q,show_category_filter:W,displayAddressToggle:G,displayUrlToggle:q,displayPhoneToggle:J,displayEmailToggle:K,displayCategoryToggle:V,displayTagsToggle:X,displayLevelToggle:Y,displaySocialMediaIconsToggle:Z,displayLocationNameToggle:$,displayHoursToggle:ee,changeTitleFontSize:le,titleFontSize:te,disablePagination:ae,displayImageOnTop:ne,enableBorder:oe,borderColor:re,borderThickness:ie,borderStyle:se,borderRadius:ce,borderRadiusUnits:ue},className:ge,setAttributes:de}=e,me=(0,l.createElement)(r.InspectorControls,{key:"inspector"},(0,l.createElement)(o.PanelBody,{title:(0,n.__)("Formatting Options")},(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{label:"Directory Layout",value:f,options:i,onChange:l=>{e.setAttributes({format:l})}})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.RangeControl,{label:"Number of Businesses per page",min:-1,max:50,onChange:e=>de({perpage:e}),value:B,initialPosition:-1,allowReset:"true"})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Disable Pagination"),checked:ae,onChange:e=>de({disablePagination:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Display Title below the Image"),checked:ne,onChange:e=>de({displayImageOnTop:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Enable Custom Title Font size"),checked:le,onChange:e=>de({changeTitleFontSize:e})})),le&&(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.FontSizePicker,{fontSizes:_,value:te,fallbackFontSize:16,withSlider:"true",onChange:e=>de({titleFontSize:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Enable Border Styles"),checked:oe,onChange:e=>de({enableBorder:e})})),oe&&(0,l.createElement)(r.PanelColorSettings,{title:(0,n.__)("Color Settings"),colorSettings:[{value:re,onChange:e=>de({borderColor:e}),label:(0,n.__)("Border Color")}]}),oe&&(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.RangeControl,{label:"Border Thickness",min:1,max:10,onChange:e=>de({borderThickness:e}),value:ie,initialPosition:1,allowReset:"true"})),oe&&(0,l.createElement)(o.SelectControl,{label:"Border Style",value:se,options:p,onChange:e=>de({borderStyle:e})}),oe&&(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.RangeControl,{label:"Border Radius",min:0,max:100,onChange:e=>de({borderRadius:e}),value:ce,initialPosition:0,allowReset:"true"})),oe&&(0,l.createElement)(o.SelectControl,{label:"Border Radius Units",value:ue,options:C,onChange:e=>de({borderRadiusUnits:e})}),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{label:"Order By",value:z,options:c,onChange:e=>de({orderby:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{label:"Order",value:N,options:u,onChange:e=>de({order:e})}))),(0,l.createElement)(o.PanelBody,{title:(0,n.__)("Display Options"),initialOpen:!1},(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Display Address"),checked:G,onChange:e=>de({displayAddressToggle:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Display Url"),checked:q,onChange:e=>de({displayUrlToggle:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Display Phone"),checked:J,onChange:e=>de({displayPhoneToggle:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Display Email"),checked:K,onChange:e=>de({displayEmailToggle:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Display Location Name"),checked:$,onChange:e=>de({displayLocationNameToggle:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Display Categories"),checked:V,onChange:e=>de({displayCategoryToggle:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Display Tags"),checked:X,onChange:e=>de({displayTagsToggle:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Display Membersihp Level"),checked:Y,onChange:e=>de({displayLevelToggle:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Display Social Media Icons"),checked:Z,onChange:e=>de({displaySocialMediaIconsToggle:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Display Hours"),checked:ee,onChange:e=>de({displayHoursToggle:e})}))),(0,l.createElement)(o.PanelBody,{title:(0,n.__)("Content Settings"),initialOpen:!1},(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{label:"Post Content",value:F,options:s,onChange:e=>de({text:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Enable click-thru to individual listing"),checked:L,onChange:l=>{e.setAttributes({singleLinkToggle:l}),l?(0,n.__)(e.setAttributes({single_link:"yes"})):(0,n.__)(e.setAttributes({single_link:"no"}))}}))),(0,l.createElement)(o.PanelBody,{title:(0,n.__)("Image Settings"),initialOpen:!1},(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{label:"Type of Image",value:x,options:g,onChange:e=>de({image:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{label:"Image Size",value:I,options:d,onChange:e=>de({image_size:e})}))),(0,l.createElement)(o.PanelBody,{title:(0,n.__)("Limit By:"),initialOpen:!1},(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{multiple:!0,className:"cdash_multi_select",label:"Categories",value:w,options:m,onChange:l=>{e.setAttributes({categoryArray:l})}})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{multiple:!0,className:"cdash_multi_select",label:"Membership Level",value:P,options:y,onChange:l=>{e.setAttributes({membershipLevelArray:l})}})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{multiple:!0,className:"cdash_multi_select",label:"Membership Status",value:O,options:b,onChange:l=>{e.setAttributes({membershipStatusArray:l})}}))),(0,l.createElement)(o.PanelBody,{title:(0,n.__)("Additional Options"),initialOpen:!1},(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Enable Alpha Search"),checked:j,onChange:l=>{e.setAttributes({alphaToggle:l}),l?(0,n.__)(e.setAttributes({alpha:"yes"})):(0,n.__)(e.setAttributes({alpha:"no"}))}})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Enable Filter by Category"),checked:Q,onChange:l=>{e.setAttributes({categoryFilterToggle:l}),l?(0,n.__)(e.setAttributes({show_category_filter:"yes"})):(0,n.__)(e.setAttributes({show_category_filter:"no"}))},help:Q?(0,n.__)("Show the filter by category option"):(0,n.__)("Hide the filter by category option.")})))),pe=(0,l.createElement)(r.BlockControls,null,(0,l.createElement)(r.AlignmentToolbar,{value:h,onChange:e=>de({textAlignment:e})}));return[(0,l.createElement)("div",{className:e.className},(0,l.createElement)(a(),{block:"cdash-bd-blocks/business-directory",attributes:e.attributes}),pe,me,(0,l.createElement)("div",{className:"businesslist"}))]},save(){return null}});var v=window.wp.editor;const{withState:f}=wp.compose,w=[{label:"List",value:"list"},{label:"2 Columns",value:"grid2"},{label:"3 Columns",value:"grid3"},{label:"4 Columns",value:"grid4"},{label:"Responsive",value:"responsive"}],T=[{label:"Title",value:"title"},{label:"Date",value:"date"},{label:"Menu Order",value:"menu_order"},{label:"Random",value:"rand"}],S=[{label:"Ascending",value:"asc"},{label:"Descending",value:"desc"}],P=[{label:"Auto",value:""},{label:"Small",value:"thumbnail"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"Full Width",value:"full"}],R=[{label:"Select one or more categories",value:null}];wp.apiFetch({path:"/wp/v2/business_category?per_page=100"}).then((e=>{jQuery.each(e,(function(e,l){R.push({label:l.name,value:l.slug})}))})).catch();const k=[{label:"Select one or more Membersihp Levels",value:null}],A=[];var F=wpAjax.wpurl+"/wp-admin/admin-ajax.php?action=cdash_check_mm_active_action";wp.apiFetch({url:F}).then((e=>{e.cdash_mm_active&&wp.apiFetch({path:"/wp/v2/membership_status?per_page=100"}).then((e=>{jQuery.each(e,(function(e,l){A.push({label:l.name,value:l.slug})}))}))})),wp.apiFetch({path:"/wp/v2/membership_level?per_page=100"}).then((e=>{jQuery.each(e,(function(e,l){k.push({label:l.name,value:l.slug})}))}));(0,E.registerBlockType)("cdash-bd-blocks/logo-gallery",{title:"Logo Gallery",icon:"format-gallery",category:"cd-blocks",description:"The logo gallery block displays the Business Logos without the name, description or other fields.",example:{},attributes:{cd_block:{type:"string",default:"yes"},postLayout:{type:"string",default:"grid3"},format:{type:"string",default:"grid3"},categoryArray:{type:"array",default:[]},category:{type:"string",default:""},tags:{type:"string",default:""},membershipLevelArray:{type:"array",default:[]},level:{type:"string",default:""},displayPostContent:{type:Boolean,default:!0},display:{type:"string",default:""},text:{type:"string",default:"none"},singleLinkToggle:{type:"boolean",default:!0},single_link:{type:"string",default:"yes"},perpage:{type:"number",default:-1},orderby:{type:"string",default:"title"},order:{type:"string",default:"asc"},image:{type:"string",default:"logo"},membershipStatusArray:{type:"array",default:[]},status:{type:"string",default:""},image_size:{type:"string",default:"medium"},alpha:{type:"string",default:"no"},logo_gallery:{type:"string",default:"yes"},show_category_filter:{type:"string",default:"no"},titleFontSize:{type:"number",default:16},disablePagination:{type:"boolean",default:!1}},edit:e=>{const{attributes:{cd_block:t,postLayout:r,format:i,categoryArray:s,category:c,tags:u,membershipLevelArray:g,level:d,displayPostContent:m,display:p,text:y,singleLinkToggle:b,single_link:h,perpage:_,orderby:C,order:E,image:f,membershipStatusArray:F,status:L,image_size:D,alpha:B,logo_gallery:z,categoryFilterToggle:N,show_category_filter:x,titleFontSize:O,disablePagination:M},className:I,setAttributes:j}=e,H=(0,l.createElement)(v.InspectorControls,{key:"inspector"},(0,l.createElement)(o.PanelBody,{title:(0,n.__)("Formatting Options")},(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{label:"Directory Layout",value:i,options:w,onChange:l=>{e.setAttributes({format:l})}})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{label:"Order By",value:C,options:T,onChange:e=>j({orderby:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{label:"Order",value:E,options:S,onChange:e=>j({order:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Enable click-thru to individual listing"),checked:b,onChange:l=>{e.setAttributes({singleLinkToggle:l}),l?(0,n.__)(e.setAttributes({single_link:"yes"})):(0,n.__)(e.setAttributes({single_link:"no"}))}})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{label:"Image Size",value:D,options:P,onChange:e=>j({image_size:e})}))),(0,l.createElement)(o.PanelBody,{title:(0,n.__)("Limit By:"),initialOpen:!1},(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{multiple:!0,className:"cdash_multi_select",label:"Categories",value:s,options:R,onChange:l=>{e.setAttributes({categoryArray:l}),console.log(l)}})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{multiple:!0,className:"cdash_multi_select",label:"Membership Level",value:g,options:k,onChange:l=>{e.setAttributes({membershipLevelArray:l})}})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{multiple:!0,className:"cdash_multi_select",label:"Membership Status",value:F,options:A,onChange:l=>{e.setAttributes({membershipStatusArray:l})}}))));return[(0,l.createElement)("div",{className:e.className},(0,l.createElement)(a(),{block:"cdash-bd-blocks/logo-gallery",attributes:e.attributes}),H,(0,l.createElement)("div",{className:"businesslist"}))]},save(){return null}});const{withState:L}=wp.compose,D=[{label:"List",value:"list"},{label:"Responsive",value:"responsive"}],B=[{label:"Title",value:"title"},{label:"Date",value:"date"},{label:"Menu Order",value:"menu_order"},{label:"Random",value:"rand"}],z=[{label:"Ascending",value:"asc"},{label:"Descending",value:"desc"}],N=[{label:"Logo",value:"logo"},{label:"Featured Image",value:"featured"},{label:"None",value:"none"}],x=[{label:"Auto",value:""},{label:"Small",value:"thumbnail"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"Full Width",value:"full"}],O=[{name:(0,n.__)("Small"),slug:"small",size:12},{name:(0,n.__)("Medium"),slug:"medium",size:18},{name:(0,n.__)("Big"),slug:"big",size:26}];(0,E.registerBlockType)("cdash-bd-blocks/business-directory-search",{title:"CD Business Search Block",icon:"search",category:"cd-blocks",description:"The business directory search block displays the search form on your page.",example:{},attributes:{searchFormTitleDisplay:{type:"boolean",default:!0},searchFormCustomTitle:{type:"string",default:"Search"},searchFormAlignment:{type:"string",default:"left"},searchFormLabelDisplay:{type:"boolean",default:!0},customSearchFormLabel:{type:"string",default:"Search Text"},categoryFieldDisplay:{type:"boolean",default:!0},categoryFieldLabelDisplay:{type:"boolean",default:!0},customCategoryFieldLabel:{type:"string",default:""},searchInputPlaceholder:{type:"string",default:""},searchDisplayFormat:{type:"string",default:"list"},imageType:{type:"string",default:"featured"},imageSize:{type:"string",default:"medium"},imageAlignment:{type:"string",default:"left"},perPage:{type:"number",default:-1},orderBy:{type:"string",default:"title"},order:{type:"string",default:"asc"},displayDescription:{type:"boolean",default:!0},displayMemberLevel:{type:"boolean",default:!0},displayCategory:{type:"boolean",default:!0},displayTags:{type:"boolean",default:!0},displaySocialMedia:{type:"boolean",default:!0},displayLocationName:{type:"boolean",default:!0},displayAddress:{type:"boolean",default:!0},displayWebsite:{type:"boolean",default:!0},displayHours:{type:"boolean",default:!0},displayPhone:{type:"boolean",default:!0},displayEmail:{type:"boolean",default:!0},businessTitleFontSize:{type:"number",default:26},businessLocationNameFontSize:{type:"number",default:26}},edit:e=>{const{attributes:{searchFormTitleDisplay:t,searchFormCustomTitle:r,searchFormAlignment:i,searchFormLabelDisplay:s,customSearchFormLabel:c,categoryFieldDisplay:u,categoryFieldLabelDisplay:g,customCategoryFieldLabel:d,searchInputPlaceholder:m,searchDisplayFormat:p,displayDescription:y,displayMemberLevel:b,displayCategory:h,displayTags:_,displaySocialMedia:C,displayUrl:E,displayHours:f,displayEmail:w,perPage:T,orderBy:S,order:P,imageType:R,imageSize:k,imageAlignment:A,displayLocationName:F,displayAddress:L,displayWebsite:M,displayPhone:I,businessTitleFontSize:j,businessLocationNameFontSize:H},className:U,setAttributes:Q}=e,W=(0,l.createElement)(v.InspectorControls,{key:"inspector"},(0,l.createElement)(o.PanelBody,{title:(0,n.__)("Search Form Options")},(0,l.createElement)(o.PanelRow,null,(0,l.createElement)("label",null,"Search Form Alignment"),(0,l.createElement)(v.AlignmentToolbar,{label:(0,n.__)("Search Form alignment"),value:i,onChange:e=>Q({searchFormAlignment:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Show Search Form Title"),checked:t,onChange:e=>Q({searchFormTitleDisplay:e})})),t&&(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.TextControl,{label:"Custom Search Form Title",value:r,onChange:e=>Q({searchFormCustomTitle:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Show Search Form Label"),checked:s,onChange:e=>Q({searchFormLabelDisplay:e})})),s&&(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.TextControl,{label:"Custom Search Form Label",value:c,onChange:e=>Q({customSearchFormLabel:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.TextControl,{label:"Search Form Placeholder",value:m,onChange:e=>Q({searchInputPlaceholder:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Show Category Field"),checked:u,onChange:e=>Q({categoryFieldDisplay:e})})),(0,l.createElement)(o.PanelRow,null),u&&(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Show Category Field Label"),checked:g,onChange:e=>Q({categoryFieldLabelDisplay:e})})),u&&(0,l.createElement)(o.PanelRow,null,g&&(0,l.createElement)(o.TextControl,{label:"Custom Category Label",value:d,onChange:e=>Q({customCategoryFieldLabel:e})}))),(0,l.createElement)(o.PanelBody,{title:(0,n.__)("Search Results Options"),initialOpen:!1},(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{label:"Search Results Layout",value:p,options:D,onChange:e=>Q({searchDisplayFormat:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.RangeControl,{label:"Number of Businesses per page",min:-1,max:50,value:T,onChange:e=>Q({perPage:e}),initialPosition:-1})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{label:"Order By:",value:S,options:B,onChange:e=>Q({orderBy:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{label:"Order",value:P,options:z,onChange:e=>Q({order:e})})),(0,l.createElement)(o.PanelRow,null,"Business Title Font Size"),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.FontSizePicker,{fontSizes:O,value:j,fallbackFontSize:16,withSlider:"true",onChange:e=>Q({businessTitleFontSize:e})})),(0,l.createElement)(o.PanelRow,null,"Location Name Font Size"),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.FontSizePicker,{fontSizes:O,value:H,fallbackFontSize:16,withSlider:"true",onChange:e=>Q({businessLocationNameFontSize:e})}))),(0,l.createElement)(o.PanelBody,{title:(0,n.__)("Search Results Image Options"),initialOpen:!1},(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{label:"Image Display Options",value:R,options:N,onChange:e=>Q({imageType:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{label:"Image Size",value:k,options:x,onChange:e=>Q({imageSize:e})}))),(0,l.createElement)(o.PanelBody,{title:(0,n.__)("Search Results Display Options"),initialOpen:!1},(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Display Description"),checked:y,onChange:e=>Q({displayDescription:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Display Membership Level"),checked:b,onChange:e=>Q({displayMemberLevel:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Display Business Categories"),checked:h,onChange:e=>Q({displayCategory:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Display Business Tags"),checked:_,onChange:e=>Q({displayTags:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Display Social Media Icons"),checked:C,onChange:e=>Q({displaySocialMedia:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Display Location Name"),checked:F,onChange:e=>Q({displayLocationName:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Display Address"),checked:L,onChange:e=>Q({displayAddress:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Display Url"),checked:M,onChange:e=>Q({displayWebsite:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Display Business Hours"),checked:f,onChange:e=>Q({displayHours:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Display Phone Number"),checked:I,onChange:e=>Q({displayPhone:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Display Emails"),checked:w,onChange:e=>Q({displayEmail:e})}))));return[(0,l.createElement)("div",{className:e.className},(0,l.createElement)(a(),{block:"cdash-bd-blocks/business-directory-search",attributes:e.attributes}),W,(0,l.createElement)("div",{className:"business_search"}))]},save(){return null}});const{withState:M}=wp.compose,I=[{label:"List",value:"list"},{label:"Grid",value:"grid"}],j=[{label:"Title",value:"name"},{label:"Count",value:"count"}],H=[{label:"Ascending",value:"ASC"},{label:"Descending",value:"DESC"}],U=[{label:"Select a parent category",value:0}];wp.apiFetch({path:"/wp/v2/business_category?per_page=100"}).then((e=>{jQuery.each(e,(function(e,l){U.push({label:l.name,value:l.id})}))})).catch();const Q=[{label:"Select one or more categories",value:0}];wp.apiFetch({path:"/wp/v2/business_category?per_page=100"}).then((e=>{jQuery.each(e,(function(e,l){Q.push({label:l.name,value:l.id})}))})).catch();(0,E.registerBlockType)("cdash-bd-blocks/business-category",{title:"Display Business Categories",icon:"category",category:"cd-blocks",description:"The business category block displays the categories on your page.",example:{},supports:{align:!0},attributes:{align:{type:"string",default:""},cd_block:{type:"string",default:"yes"},format:{type:"string",default:"list"},orderby:{type:"string",default:"name"},order:{type:"string",default:"ASC"},showcount:{type:"number",default:0},showCountToggle:{type:"boolean",default:!1},hierarchical:{type:"number",default:1},hierarchyToggle:{type:"boolean",default:!0},hide_empty:{type:"number",default:1},hideEmptyToggle:{type:"boolean",default:!0},child_of:{type:"number",default:0},exclude:{type:"number",default:0},excludeCategories:{type:"array",default:[]},depth:{type:"number",default:0}},edit:e=>{const{attributes:{align:t,cd_block:i,format:s,orderby:c,order:u,showcount:g,showCountToggle:d,hierarchical:m,hierarchyToggle:p,hide_empty:y,hideEmptyToggle:b,child_of:h,exclude:_,excludeCategories:C,depth:E},className:v,setAttributes:f}=e,w=(0,l.createElement)(r.InspectorControls,{key:"inspector"},(0,l.createElement)(o.PanelBody,{title:(0,n.__)("Business Category Block Options")},(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{label:(0,n.__)("Layout Options"),value:s,options:I,onChange:e=>f({format:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{label:(0,n.__)("Order By"),value:c,options:j,onChange:e=>f({orderby:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{label:(0,n.__)("Order"),value:u,options:H,onChange:e=>f({order:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{label:(0,n.__)("Show child categories"),value:h,options:U,help:(0,n.__)("Displays only the child categories of the selected parent category."),onChange:e=>f({child_of:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{multiple:!0,className:"cdash_multi_select",label:(0,n.__)("Exclude Categories"),value:C,options:Q,onChange:l=>{e.setAttributes({excludeCategories:l})}})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Show the number of businesses in each category"),checked:d,onChange:l=>{e.setAttributes({showCountToggle:l}),l?(0,n.__)(e.setAttributes({showcount:1})):(0,n.__)(e.setAttributes({showcount:0}))}})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Show the categories in hierarchical order"),checked:p,onChange:l=>{e.setAttributes({hierarchyToggle:l}),l?(0,n.__)(e.setAttributes({hierarchical:1})):(0,n.__)(e.setAttributes({hierarchical:0}))}})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,n.__)("Hide Empty Categories"),checked:b,onChange:l=>{e.setAttributes({hideEmptyToggle:l}),l?(0,n.__)(e.setAttributes({hide_empty:1})):(0,n.__)(e.setAttributes({hide_empty:0}))}})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.RangeControl,{label:(0,n.__)("Number of child category levels to show"),min:0,max:5,value:E,onChange:e=>f({depth:e}),initialPosition:0}))));return[(0,l.createElement)("div",{className:e.className},(0,l.createElement)(a(),{block:"cdash-bd-blocks/business-category",attributes:e.attributes}),w,(0,l.createElement)("div",{className:"bus_cat"}))]},save(){return null}})}();